<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Site - Connexion avec Logger Simple</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 40px 20px;
            background: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .login-section {
            text-align: center;
            margin: 40px 0;
        }
        
        .login-section p {
            color: #666;
            margin-bottom: 20px;
        }
        
        .user-section {
            display: none;
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 15px;
            border: 3px solid #00d4aa;
        }
        
        .user-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .user-email {
            color: #666;
            margin-bottom: 20px;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .logout-btn:hover {
            background: #c82333;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .feature {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .feature-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .feature h3 {
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .feature p {
            font-size: 14px;
            color: #666;
            margin: 0;
        }
        
        .code-example {
            background: #f1f3f4;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
        }
        
        .note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 12px;
            margin: 20px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Mon Super Site</h1>
        
        <!-- Section de connexion -->
        <div id="login-section" class="login-section">
            <p>Connectez-vous facilement avec votre compte Logger Simple</p>
            <div id="login-button-container">
                <!-- Le bouton de connexion sera ins√©r√© ici -->
            </div>
        </div>
        
        <!-- Section utilisateur connect√© -->
        <div id="user-section" class="user-section">
            <img id="user-avatar" class="user-avatar" src="" alt="Avatar">
            <div id="user-name" class="user-name"></div>
            <div id="user-email" class="user-email"></div>
            <button class="logout-btn" onclick="logout()">Se d√©connecter</button>
        </div>
        
        <!-- Fonctionnalit√©s du site -->
        <div class="features">
            <div class="feature">
                <div class="feature-icon">üîê</div>
                <h3>S√©curis√©</h3>
                <p>OAuth 2.0 standard</p>
            </div>
            <div class="feature">
                <div class="feature-icon">‚ö°</div>
                <h3>Rapide</h3>
                <p>Connexion en un clic</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üé®</div>
                <h3>Simple</h3>
                <p>Interface intuitive</p>
            </div>
        </div>
        
        <!-- Guide d'int√©gration -->
        <div style="margin-top: 40px; padding-top: 40px; border-top: 1px solid #eee;">
            <h2>üí° Comment int√©grer Logger Simple OAuth</h2>
            
            <h3>1. Inclure le script</h3>
            <div class="code-example">
&lt;script src="https://connexion.logger-simple.com/api?action=script"&gt;&lt;/script&gt;
            </div>
            
            <h3>2. Initialiser et cr√©er le bouton</h3>
            <div class="code-example">
&lt;script&gt;
// Initialiser Logger Simple OAuth
LoggerSimple.init({
    app_id: 'votre_app_id_ici',  // Remplacez par votre App ID
    redirect_uri: 'https://votre-site.com/callback',
    onSuccess: function(user) {
        // Utilisateur connect√© avec succ√®s
        console.log('Utilisateur:', user);
        afficherUtilisateur(user);
    },
    onError: function(error) {
        // Erreur de connexion
        console.error('Erreur:', error);
        alert('Erreur de connexion: ' + error.description);
    }
});

// Cr√©er le bouton de connexion
LoggerSimple.renderButton('#login-button-container', {
    text: 'Se connecter avec Logger Simple',
    style: 'primary',
    size: 'large'
});
&lt;/script&gt;
            </div>
            
            <div class="note">
                <strong>üìù Note :</strong> 
                Remplacez <code>votre_app_id_ici</code> par l'App ID que vous obtenez en cr√©ant une application OAuth dans votre dashboard Logger Simple.
                L'URL de redirection doit correspondre exactement √† celle configur√©e dans votre app OAuth.
            </div>
        </div>
    </div>
    
    <!-- Inclusion du script Logger Simple -->
    <script src="https://connexion.logger-simple.com/api?action=script"></script>
    
    <script>
        // Configuration OAuth - REMPLACEZ PAR VOS VRAIES VALEURS
        const CONFIG = {
            app_id: 'ls_dd1275d306d92fb1e82e91634096b24f', // Replace with your app ID from the dashboard
            redirect_uri: "https://laravel-academy.vercel.app/callback.html", // Replace with your actual redirect URI
            scope: 'user:basic'
        };
        
        // Initialiser Logger Simple
        LoggerSimple.init({
            app_id: CONFIG.app_id,
            redirect_uri: CONFIG.redirect_uri,
            onSuccess: function(user) {
                console.log('‚úÖ Connexion r√©ussie:', user);
                showUser(user);
            },
            onError: function(error) {
                console.error('‚ùå Erreur de connexion:', error);
                alert('Erreur de connexion: ' + (error.description || error.error));
            }
        });
        
        // Cr√©er le bouton de connexion
        LoggerSimple.renderButton('#login-button-container', {
            text: 'Se connecter avec Logger Simple',
            style: 'primary',
            size: 'large'
        });
        
        // V√©rifier si l'utilisateur est d√©j√† connect√©
        const currentUser = LoggerSimple.getCurrentUser();
        if (currentUser) {
            console.log('üë§ Utilisateur d√©j√† connect√©:', currentUser);
            showUser(currentUser);
        }
        
        // Afficher les informations de l'utilisateur
        function showUser(user) {
            // Cacher la section de connexion
            document.getElementById('login-section').style.display = 'none';
            
            // Afficher la section utilisateur
            document.getElementById('user-section').style.display = 'block';
            
            // Remplir les informations
            document.getElementById('user-avatar').src = user.avatar;
            document.getElementById('user-name').textContent = user.username;
            document.getElementById('user-email').textContent = user.email;
            
            // Vous pouvez maintenant utiliser les donn√©es utilisateur dans votre application
            console.log('üéâ Bienvenue', user.username + '!');
            
            // Exemple : envoyer les donn√©es √† votre serveur
            // envoyerDonneesAuServeur(user);
        }
        
        // Fonction de d√©connexion
        function logout() {
            LoggerSimple.logout();
            
            // Afficher la section de connexion
            document.getElementById('login-section').style.display = 'block';
            
            // Cacher la section utilisateur
            document.getElementById('user-section').style.display = 'none';
            
            console.log('üëã Utilisateur d√©connect√©');
        }
        
        // √âcouter les √©v√©nements OAuth
        window.addEventListener('ls:login:success', function(event) {
            console.log('üéä √âv√©nement de connexion d√©clench√©');
        });
        
        window.addEventListener('ls:logout', function(event) {
            console.log('üö™ √âv√©nement de d√©connexion d√©clench√©');
        });
        
        // Debug : afficher la configuration
        console.log('‚öôÔ∏è Configuration OAuth:', CONFIG);
        console.log('üåê URL de redirection:', CONFIG.redirect_uri);
        console.log('üîë App ID:', CONFIG.app_id);
    </script>
</body>
</html>